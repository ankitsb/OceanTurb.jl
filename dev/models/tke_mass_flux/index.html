<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>An eddy-diffusivity mass-flux (EDMF) scheme with prognostic turbulent kinetic energy · OceanTurb.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">OceanTurb.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../basics/">Turbulence, fluxes, and physics</a></li><li><a class="tocitem" href="../../numerics/">Numerical methods</a></li><li><span class="tocitem">Turbulence models</span><ul><li><a class="tocitem" href="../kpp/">The K-Profile-Parameterization (KPP)</a></li><li><a class="tocitem" href="../modular_kpp/">Modular K-Profile Parameterization</a></li><li class="is-active"><a class="tocitem" href>An eddy-diffusivity mass-flux (EDMF) scheme with prognostic turbulent kinetic energy</a><ul class="internal"><li><a class="tocitem" href="#Eddy-diffusivities-and-mass-fluxes-1"><span>Eddy diffusivities and mass fluxes</span></a></li><li><a class="tocitem" href="#Turbulent-kinetic-energy-equation-1"><span>Turbulent kinetic energy equation</span></a></li></ul></li><li><a class="tocitem" href="../pacanowskiphilander/">Pacanowski-Philander</a></li></ul></li><li><span class="tocitem">DocStrings</span><ul><li><a class="tocitem" href="../../man/types/">Private types</a></li><li><a class="tocitem" href="../../man/functions/">Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Turbulence models</a></li><li class="is-active"><a href>An eddy-diffusivity mass-flux (EDMF) scheme with prognostic turbulent kinetic energy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>An eddy-diffusivity mass-flux (EDMF) scheme with prognostic turbulent kinetic energy</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/glwagner/OceanTurb.jl/blob/master/docs/src/models/tke_mass_flux.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="An-eddy-diffusivity-mass-flux-(EDMF)-scheme-with-prognostic-turbulent-kinetic-energy-1"><a class="docs-heading-anchor" href="#An-eddy-diffusivity-mass-flux-(EDMF)-scheme-with-prognostic-turbulent-kinetic-energy-1">An eddy-diffusivity mass-flux (EDMF) scheme with prognostic turbulent kinetic energy</a><a class="docs-heading-anchor-permalink" href="#An-eddy-diffusivity-mass-flux-(EDMF)-scheme-with-prognostic-turbulent-kinetic-energy-1" title="Permalink"></a></h1><div>\[\newcommand{\c}         {\, ,}
\newcommand{\p}         {\, .}
\newcommand{\d}         {\partial}
\newcommand{\r}[1]      {\mathrm{#1}}
\newcommand{\b}[1]      {\boldsymbol{#1}}
\newcommand{\ee}        {\mathrm{e}}
\newcommand{\di}        {\, \mathrm{d}}
\newcommand{\ep}        {\epsilon}

\newcommand{\beq}       {\begin{equation}}
\newcommand{\eeq}       {\end{equation}}
\newcommand{\beqs}      {\begin{gather}}
\newcommand{\eeqs}      {\end{gather}}

% Non-dimensional numbers
\newcommand{\Ri}        {\mathrm{Ri}}
\newcommand{\K}         {\mathrm{KE}}        

\newcommand{\btau}      {\b{\tau}} % wind stress vector

% Model functions and constants
\renewcommand{\F}[2]    {\Upsilon^{#1}_{#2}}
\renewcommand{\C}[2]    {C^{#1}_{#2}}

\newcommand{\uwind}     {u_\star}
\newcommand{\ubuoy}     {w_\star}

\newcommand{\defn}      {\stackrel{\r{def}}{=}}\]</div><p>The EDMF family of schemes parameterizes turbulent convection by introducing a conditional average that partitions the subgrid boundary layer flow into a turbulent &#39;environment&#39; with area <span>$a_0$</span>, and non-turbulent updrafts and downdrafts with areas <span>$a_i$</span> for <span>$i&gt;0$</span>.</p><p>We use an EDMF scheme with a prognostic equation for turbulent kinetic energy. At the moment, no plume model is implemented, which means our EDMF scheme only models mixing due to the presence of turbulent kinetic energy in stress-driven boundary layers. A description of mass flux schemes is included below for pedagogical purposes.</p><h2 id="Eddy-diffusivities-and-mass-fluxes-1"><a class="docs-heading-anchor" href="#Eddy-diffusivities-and-mass-fluxes-1">Eddy diffusivities and mass fluxes</a><a class="docs-heading-anchor-permalink" href="#Eddy-diffusivities-and-mass-fluxes-1" title="Permalink"></a></h2><p>In all schemes, the turbulent velocity fluxes are parameterized with an eddy diffusivity. For the <span>$x$</span>-velocity <span>$U$</span>, for example,</p><div>\[\beq
\overline{w u} = \d_z \left ( K_U \d_z U \right ) \c
\eeq\]</div><p>where <span>$K_U$</span> is the eddy diffusivity for <span>$x$</span> and <span>$y$</span>-momentum. The turbulent flux of scalars <span>$\phi$</span> such as temperature and salinity is parameterized by both a turbulent flux and mass transport,</p><div>\[\beq
\overline{u \phi} = \d_z \left ( K \d_z \Phi \right )
  - \d_z \sum_i a_i \tilde W_i \tilde \Phi_i \c
\eeq\]</div><p>where <span>$\tilde \Phi_i$</span> is the difference between the average of <span>$\phi$</span> within domain <span>$i$</span> and the total horizontal average <span>$\Phi$</span>:</p><div>\[\begin{align}
\tilde \Phi_i &amp; \defn \left ( \frac{1}{A_i} \int_{A_i} \r{d} A - \frac{1}{A} \int_A \r{d} A \right ) \phi \c \\
&amp;= \Phi_i - \Phi \c
\end{align}\]</div><p>where we have introduced the notation <span>$\Phi_i$</span> to denote the average of <span>$\phi$</span> within the environment or updraft area <span>$A_i$</span>. The terms <span>$a_i \tilde W_i \tilde \Phi_i$</span> account for the vertical transport of <span>$\phi$</span> by environment and updraft vertical velocities <span>$W_i$</span>.</p><h2 id="Turbulent-kinetic-energy-equation-1"><a class="docs-heading-anchor" href="#Turbulent-kinetic-energy-equation-1">Turbulent kinetic energy equation</a><a class="docs-heading-anchor-permalink" href="#Turbulent-kinetic-energy-equation-1" title="Permalink"></a></h2><p>A relatively simple EDMF scheme emerges in the limit of vanishing updrafts and downdrafts, in which case <span>$W = W_0 = a_0 = 0$</span>. In the 1.5-order version of this closure, turbulent diffusivity is modeled via the prognostic turbulent kinetic energy (TKE) equation</p><div>\[\beq
\d_t e = \d_z \left ( K_e \d_z e \right )
    + K_U \left [ \left ( \d_z U \right )^2 + \left ( \d_z V \right )^2 \right ] 
    + \overline{w b} - \C{D}{} \frac{e^{3/2}}{\ell} \c
  \label{TKE}
\eeq\]</div><p>where <span>$\C{D}{}$</span> is the TKE dissipation parameter, <span>$K_U$</span> is the eddy diffusivity for momentum,  <span>$K_e$</span> is the eddy diffusivity for turbulent kinetic energy, and <span>$\overline{wb}$</span> is the buoyancy flux,</p><div>\[\beq
\overline{w b} = - g \left ( \alpha K_C \d_z T + \beta K_C \d_z S \right ) \c
\eeq\]</div><p>where <span>$g$</span> is gravitational acceleration, <span>$\alpha$</span> and <span>$\beta$</span> are the thermal  expansion and haline contraction coefficients, and <span>$K_C$</span> is the eddy diffusivity for tracers. Eddy diffusivities are defined</p><div>\[\beq
K_\Phi = C^K_\Phi \ell_\Phi \sqrt{e}
\eeq\]</div><p>where <span>$C^K_\Phi$</span> is a model constant and <span>$\ell_\Phi$</span> is the mixing length for  the quantity <span>$\Phi$</span>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../modular_kpp/">« Modular K-Profile Parameterization</a><a class="docs-footer-nextpage" href="../pacanowskiphilander/">Pacanowski-Philander »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 26 May 2020 02:28">Tuesday 26 May 2020</span>. Using Julia version 1.1.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
